@page "/blog/new"

<div class="mt-3 bg-light p-3 rounded-3 shadow">
    <h3>Start a New Blog Post</h3>
    <EditForm Model="blog" OnValidSubmit="HandleValidSubmit" FormName="newBlogForm">
        <DataAnnotationsValidator />
        <ValidationSummary />
        <div class="row">
            <div class="col-md-6">
                <div class="mb-3">
                    <label for="title" class="form-label">Title</label>
                    <InputText id="title" class="form-control" @bind-Value="blog.Title" />
                    <ValidationMessage For="@(() => blog.Title)" />
                </div>
                <div class="mb-3">
                    <label for="slug" class="form-label">Slug</label>
                    <InputText id="slug" class="form-control" @bind-Value="blog.Slug" />
                    <ValidationMessage For="@(() => blog.Slug)" />
                </div>
                <div class="mb-3">
                    <label for="excerpt" class="form-label">Excerpt</label>
                    <InputText id="excerpt" class="form-control" @bind-Value="blog.Excerpt" />
                    <ValidationMessage For="@(() => blog.Excerpt)" />
                </div>
                <div class="mb-3">
                    <label for="author" class="form-label">Author</label>
                    <InputText id="author" class="form-control" @bind-Value="blog.Author" />
                    <ValidationMessage For="@(() => blog.Author)" />
                </div>
                <div class="mb-3">
                    <label for="blogImageUrl" class="form-label">Blog Image URL</label>
                    <InputText id="blogImageUrl" class="form-control" @bind-Value="blog.BlogImageUrl" />
                    <ValidationMessage For="@(() => blog.BlogImageUrl)" />
                </div>
                <div class="mb-3">
                    <label for="created" class="form-label">Created</label>
                    <InputDate id="created" class="form-control" @bind-Value="blog.Created" />
                    <ValidationMessage For="@(() => blog.Created)" />
                </div>
                <div class="form-check mb-3">
                    <InputCheckbox id="isPublished" class="form-check-input" @bind-Value="blog.isPublished" />
                    <label for="isPublished" class="form-check-label">Published</label>
                </div>
            </div>
            <div class="col-md-6">
                <div class="mb-3">
                    <label for="content" class="form-label">Content</label>
                    <textarea id="content" class="form-control" style="height: 400px;" @bind="blog.Content"></textarea>
                    <ValidationMessage For="@(() => blog.Content)" />
                </div>
            </div>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </EditForm>
</div>


@code {
    private BlazorBlog.UI.Domain.Blog blog = new()
    {
        Id = Guid.NewGuid(),
        Slug = string.Empty,
        Title = string.Empty,
        Content = string.Empty,
        Excerpt = string.Empty,
        Author = string.Empty,
        Created = DateTime.Now
    };



    private void HandleValidSubmit()
    {
        // Save logic here
    }


}
